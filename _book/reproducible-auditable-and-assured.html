<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Reproducible, Auditable and Assured | QA of Code</title>
  <meta name="description" content="This is a draft of QA for Coding guidance" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Reproducible, Auditable and Assured | QA of Code" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a draft of QA for Coding guidance" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Reproducible, Auditable and Assured | QA of Code" />
  
  <meta name="twitter:description" content="This is a draft of QA for Coding guidance" />
  

<meta name="author" content="Joshua Halls" />


<meta name="date" content="2020-03-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction.html"/>
<link rel="next" href="modelling.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">QA of Code</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#who-is-this-guidance-for"><i class="fa fa-check"></i><b>1.1</b> Who is this guidance for?</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#what-is-its-aim"><i class="fa fa-check"></i><b>1.2</b> What is its aim?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#why-move-away-from-spreadsheets"><i class="fa fa-check"></i><b>1.3</b> Why move away from spreadsheets?</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#why-move-from-sas-or-spss-to-an-open-source-tool"><i class="fa fa-check"></i><b>1.4</b> Why move from SAS or SPSS to an open source tool?</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#open-source"><i class="fa fa-check"></i><b>1.5</b> Open source</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#for-managers"><i class="fa fa-check"></i><b>1.6</b> For managers</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html"><i class="fa fa-check"></i><b>2</b> Reproducible, Auditable and Assured</a><ul>
<li class="chapter" data-level="2.1" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#reproducible"><i class="fa fa-check"></i><b>2.1</b> Reproducible</a></li>
<li class="chapter" data-level="2.2" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#auditable"><i class="fa fa-check"></i><b>2.2</b> Auditable</a></li>
<li class="chapter" data-level="2.3" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#assured"><i class="fa fa-check"></i><b>2.3</b> Assured</a></li>
<li class="chapter" data-level="2.4" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#what-is-a-reproducible-analytical-pipeline"><i class="fa fa-check"></i><b>2.4</b> What is a reproducible analytical pipeline?</a></li>
<li class="chapter" data-level="2.5" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#guidance"><i class="fa fa-check"></i><b>2.5</b> Guidance</a></li>
<li class="chapter" data-level="2.6" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#strategies-and-approaches"><i class="fa fa-check"></i><b>2.6</b> Strategies and approaches</a><ul>
<li class="chapter" data-level="2.6.1" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#one-place"><i class="fa fa-check"></i><b>2.6.1</b> One place</a></li>
<li class="chapter" data-level="2.6.2" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#checklists-and-processes"><i class="fa fa-check"></i><b>2.6.2</b> Checklists and processes</a></li>
<li class="chapter" data-level="2.6.3" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#defensive-design"><i class="fa fa-check"></i><b>2.6.3</b> Defensive design</a></li>
<li class="chapter" data-level="2.6.4" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#rap-is-knowledge-management"><i class="fa fa-check"></i><b>2.6.4</b> RAP is Knowledge Management</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="modelling.html"><a href="modelling.html"><i class="fa fa-check"></i><b>3</b> Modelling</a><ul>
<li class="chapter" data-level="3.1" data-path="modelling.html"><a href="modelling.html#aqua-book-quality-assurance-principles-for-code"><i class="fa fa-check"></i><b>3.1</b> AQUA book quality assurance principles for code</a></li>
<li class="chapter" data-level="3.2" data-path="modelling.html"><a href="modelling.html#repeatable"><i class="fa fa-check"></i><b>3.2</b> Repeatable</a></li>
<li class="chapter" data-level="3.3" data-path="modelling.html"><a href="modelling.html#rap-levels-align-with-aqua-levels"><i class="fa fa-check"></i><b>3.3</b> RAP Levels align with AQUA Levels</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="levels-of-reproducible-analysis.html"><a href="levels-of-reproducible-analysis.html"><i class="fa fa-check"></i><b>4</b> Levels of reproducible analysis</a></li>
<li class="chapter" data-level="5" data-path="Testing.html"><a href="Testing.html"><i class="fa fa-check"></i><b>5</b> Testing</a><ul>
<li class="chapter" data-level="5.1" data-path="Testing.html"><a href="Testing.html#advantages-of-testing-your-code"><i class="fa fa-check"></i><b>5.1</b> Advantages of testing your code</a></li>
<li class="chapter" data-level="5.2" data-path="Testing.html"><a href="Testing.html#when-a-project-should-use-testing"><i class="fa fa-check"></i><b>5.2</b> When a project should use testing</a></li>
<li class="chapter" data-level="5.3" data-path="Testing.html"><a href="Testing.html#when-a-project-might-not-deploy-testing"><i class="fa fa-check"></i><b>5.3</b> When a project might not deploy testing</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="testing-frameworks.html"><a href="testing-frameworks.html"><i class="fa fa-check"></i><b>6</b> Testing Frameworks</a><ul>
<li class="chapter" data-level="6.1" data-path="testing-frameworks.html"><a href="testing-frameworks.html#what-exactly-is-a-test"><i class="fa fa-check"></i><b>6.1</b> What exactly is a test</a></li>
<li class="chapter" data-level="6.2" data-path="testing-frameworks.html"><a href="testing-frameworks.html#unit-test"><i class="fa fa-check"></i><b>6.2</b> Unit Test</a></li>
<li class="chapter" data-level="6.3" data-path="testing-frameworks.html"><a href="testing-frameworks.html#integration-tests"><i class="fa fa-check"></i><b>6.3</b> Integration Tests</a></li>
<li class="chapter" data-level="6.4" data-path="testing-frameworks.html"><a href="testing-frameworks.html#what-to-tests"><i class="fa fa-check"></i><b>6.4</b> What to tests</a></li>
<li class="chapter" data-level="6.5" data-path="testing-frameworks.html"><a href="testing-frameworks.html#references"><i class="fa fa-check"></i><b>6.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="GIT.html"><a href="GIT.html"><i class="fa fa-check"></i><b>7</b> GIT</a><ul>
<li class="chapter" data-level="7.1" data-path="GIT.html"><a href="GIT.html#git-introduction"><i class="fa fa-check"></i><b>7.1</b> Git Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="GIT.html"><a href="GIT.html#about-version-control"><i class="fa fa-check"></i><b>7.2</b> About Version Control</a></li>
<li class="chapter" data-level="7.3" data-path="GIT.html"><a href="GIT.html#what-is-git"><i class="fa fa-check"></i><b>7.3</b> What is GIT</a></li>
<li class="chapter" data-level="7.4" data-path="GIT.html"><a href="GIT.html#how-does-git-actually-work"><i class="fa fa-check"></i><b>7.4</b> How does GIT actually work</a></li>
<li class="chapter" data-level="7.5" data-path="GIT.html"><a href="GIT.html#typical-git-workflow"><i class="fa fa-check"></i><b>7.5</b> Typical Git workflow</a></li>
<li class="chapter" data-level="7.6" data-path="GIT.html"><a href="GIT.html#remote-repository"><i class="fa fa-check"></i><b>7.6</b> Remote Repository</a></li>
<li class="chapter" data-level="7.7" data-path="GIT.html"><a href="GIT.html#branching"><i class="fa fa-check"></i><b>7.7</b> Branching</a></li>
<li class="chapter" data-level="7.8" data-path="GIT.html"><a href="GIT.html#pull-request-and-issues"><i class="fa fa-check"></i><b>7.8</b> Pull Request and issues</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html"><i class="fa fa-check"></i><b>8</b> Coding Guidelines</a><ul>
<li class="chapter" data-level="8.1" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html#why-useful"><i class="fa fa-check"></i><b>8.1</b> Why Useful</a></li>
<li class="chapter" data-level="8.2" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html#best-practice-coding-principles"><i class="fa fa-check"></i><b>8.2</b> Best Practice: Coding Principles</a></li>
<li class="chapter" data-level="8.3" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html#style-guides"><i class="fa fa-check"></i><b>8.3</b> Style Guides</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="documentation.html"><a href="documentation.html"><i class="fa fa-check"></i><b>9</b> Documentation</a><ul>
<li class="chapter" data-level="9.1" data-path="documentation.html"><a href="documentation.html#commenting"><i class="fa fa-check"></i><b>9.1</b> Commenting</a></li>
<li class="chapter" data-level="9.2" data-path="documentation.html"><a href="documentation.html#readme"><i class="fa fa-check"></i><b>9.2</b> README</a></li>
<li class="chapter" data-level="9.3" data-path="documentation.html"><a href="documentation.html#package-documentation"><i class="fa fa-check"></i><b>9.3</b> Package Documentation</a></li>
<li class="chapter" data-level="9.4" data-path="documentation.html"><a href="documentation.html#markdown-for-desk-notes"><i class="fa fa-check"></i><b>9.4</b> Markdown for desk notes</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="standards.html"><a href="standards.html"><i class="fa fa-check"></i><b>10</b> Standards</a><ul>
<li class="chapter" data-level="10.1" data-path="standards.html"><a href="standards.html#standards-for-peer-review"><i class="fa fa-check"></i><b>10.1</b> Standards for Peer review</a></li>
<li class="chapter" data-level="10.2" data-path="standards.html"><a href="standards.html#standard-structures-for-projects"><i class="fa fa-check"></i><b>10.2</b> Standard Structures for Projects</a></li>
<li class="chapter" data-level="10.3" data-path="standards.html"><a href="standards.html#dependency-management"><i class="fa fa-check"></i><b>10.3</b> Dependency Management</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://gss.civilservice.gov.uk/policy-store/government-statistical-service-gss-quality-strategy/" target="blank">Government Statistical Service (GSS) Quality </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">QA of Code</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="reproducible-auditable-and-assured" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Reproducible, Auditable and Assured</h1>
<p>When we do analysis it must be fit for purpose.
If it isn’t, we risk misinforming decisions.
Bad analysis can result in harm or misallocation of public funds.
We must figure out the right steps to take to ensure high quality analysis.</p>
<p>This book recognises three founding principles of good analysis, each supported by the one before.</p>
<p><img src="Static/repro_stack.png" /></p>
<p>Reproducibility guarantees that we have done what we have said we have done, and that users could do it too.
Auditability means that we know why we chose our analysis, and who is responsible for each bit - including assurance.
Assurance improves the average quality and communicates that quality to users.</p>
<div id="reproducible" class="section level2">
<h2><span class="header-section-number">2.1</span> Reproducible</h2>
<p>Reproducibility is the only thing you can guarantee in your analysis.
It is the first pillar of good analysis.
If you can’t prove that you can run the same analysis, with the same data, and obtain the same results then you are not adding valuable analysis.
The secondary assurances of peer review, rigorous testing, and validity are secondary to being able to reproduce any analysis that you produce in a proportionate amount of time.</p>
<p>Reproducible analysis relies on a transparent production process so that anyone can follow our steps and understand our results.
The transparency eases reuse of our methods and results.
Easy reproducibility helps colleagues test and validate what we have done.
As reproducibility is guaranteed, users and colleagues can focus on verifying that the implentation is correct and that the research is useful for its intended purpose.</p>
<p>Reproducibility relies on effective documentation.
Good documentation should show how our methodology and our implementation map to each other.
Good documentation should allow users and other researchers to reuse and adapt our analysis.</p>
<p>Reproducible analysis supports the requirements of the Code of Practice for Statistics around quality assurance and transparency (auditability).
Wherever possible, we share the code we used to build the outputs, along with enough data to allow for proper testing.</p>
</div>
<div id="auditable" class="section level2">
<h2><span class="header-section-number">2.2</span> Auditable</h2>
<p>If decisions are made based on analysis then we must make sure that the story of that analysis is available.
Our analysis and the evidence we provide must be able to be held to scrutiny and audited.
Auditable analysis is about being able to, at any point, answer:</p>
<blockquote>
<p>Who made which decisions at what time and based on what evidence?</p>
</blockquote>
<p>Answering these questions gives decision makers and users greater trust in our work.
They know the story of our analysis and why we made certain analytical choices.
They know who is responsible for each part of the analysis, including the assurance.
They know exactly what changes have been made at any point.</p>
<p>In a reproducible workflow, we must bring together the code and the data that we used to generate our results.
These are ideally published alongside our reports, and alongside a record of analytical choices made and responsible owners of those choices.
The transparency this gives our work helps trustworthiness.
More eyes examining our work can point out challenges or flaws that can help us to improve.
We can be fully open about the decisions we made when we generated our outputs so that other analysts can follow what we did and re-create them.
By making our analysis reproducible, we make it easier for others to quality assure, assess and critique.</p>
</div>
<div id="assured" class="section level2">
<h2><span class="header-section-number">2.3</span> Assured</h2>
<p>Good quality analysis requires good quality assurance.
If decisions are being made based on analysis then this analysis must be held to high standards</p>
<p>However, some of the analysis that we do in government doesn’t bear on decisions at that level.
We don’t want to overburden analysts with QA procedures when they aren’t required.
In government we advocate <em>proportionality</em> - the right quality assurance procedures for the right analysis.
Analysis can be proportionately assured through peer review and defensive design.</p>
<p>We advocate following your department’s guidance on what proportionate quality assurance looks like.
Most departments derive their guidance from the Aqua book.
Assurance is best guaranteed through peer review.
Peer reviewers must be able to understand your analytical choices and be able to reproduce your conclusions.</p>
<p>Guarantees of quality assurance should be published alongside any report, or be taken into consideration by decision makers.</p>
</div>
<div id="what-is-a-reproducible-analytical-pipeline" class="section level2">
<h2><span class="header-section-number">2.4</span> What is a reproducible analytical pipeline?</h2>
<p>Producing official statistics can be time-consuming and painstaking.
We need to make sure that our outputs are both accurate and timely.<br />
Across government we aim to create effective and efficient analytical workflows which are repeatable over time and follow the principles of reproducible analysis.
We call these <a href="https://dataingovernment.blog.gov.uk/2017/03/27/reproducible-analytical-pipeline/">Reproducible Analytical Pipelines</a> (RAP).</p>
<p>Reproducible analysis is still not widely practiced across government.<br />
Many analysts use proprietary (paid-for) analytical tools like SAS or SPSS in combination with programs like Excel, Word or Acrobat to create statistical products.
The processes for creating statistics this way are usually manual or semi-manual.<br />
Colleagues typically repeat parts of the process manually to quality assure the outputs.
This makes the analysis difficult to reproduce.</p>
<p>This way of working is time consuming and can be frustrating because the manual steps can be quite hard to replicate quickly.
These processes are also prone to error, because the input data and the outputs are not connected directly, only through the analyst’s manual intervention.</p>
<p>More recently, the tools and techniques available to analysts have evolved.
Open-source tools like Python and R, coupled with the use of version control and software management platforms like Git, used widely in software engineering to make it easier to collaborate, have made it possible to develop more automatic, streamlined processes, accompanied by a full audit trail.</p>
<p>RAP was first piloted in the Government Statistical Service in 2017 by analysts in the Department for Digital, Culture, Media &amp; Sport (DCMS) and the Department for Education (DfE).
They collaborated with data scientists from the Government Digital Service (GDS) to automate the production of statistical bulletins.</p>
<p>To support the adoption of RAP across government, there is a network of <a href="https://gss.civilservice.gov.uk/about-us/champion-networks/reproducible-analytical-pipeline-rap-champions/">RAP champions</a>.
Champions are responsible for promoting reproducible analysis and the use of reproducible analytical pipelines and supporting others who want to develop RAP in their own teams.</p>
</div>
<div id="guidance" class="section level2">
<h2><span class="header-section-number">2.5</span> Guidance</h2>
<ul>
<li>Aqua Book</li>
<li>GSS Quality Strategy</li>
<li>DCMS Data Ethics Framework</li>
<li>Government Transformation Strategy</li>
<li>Communicating quality, change and uncertainty</li>
</ul>
</div>
<div id="strategies-and-approaches" class="section level2">
<h2><span class="header-section-number">2.6</span> Strategies and approaches</h2>
<div id="one-place" class="section level3">
<h3><span class="header-section-number">2.6.1</span> One place</h3>
</div>
<div id="checklists-and-processes" class="section level3">
<h3><span class="header-section-number">2.6.2</span> Checklists and processes</h3>
<p>Don’t reinvent the wheel.
It’s always worth taking at look at what went well, and what could be improved, when you are at natural pauses.</p>
</div>
<div id="defensive-design" class="section level3">
<h3><span class="header-section-number">2.6.3</span> Defensive design</h3>
</div>
<div id="rap-is-knowledge-management" class="section level3">
<h3><span class="header-section-number">2.6.4</span> RAP is Knowledge Management</h3>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="modelling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["QA_Code.pdf", "QA_Code.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
