<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Testing | QA of Code</title>
  <meta name="description" content="This is a draft of QA for Coding guidance" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Testing | QA of Code" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a draft of QA for Coding guidance" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Testing | QA of Code" />
  
  <meta name="twitter:description" content="This is a draft of QA for Coding guidance" />
  

<meta name="author" content="Joshua Halls" />


<meta name="date" content="2020-03-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="levels-of-reproducible-analysis.html"/>
<link rel="next" href="testing-frameworks.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">QA of Code</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#who-is-this-guidance-for"><i class="fa fa-check"></i><b>1.1</b> Who is this guidance for?</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#what-is-its-aim"><i class="fa fa-check"></i><b>1.2</b> What is its aim?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#why-move-away-from-spreadsheets"><i class="fa fa-check"></i><b>1.3</b> Why move away from spreadsheets?</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#why-move-from-sas-or-spss-to-an-open-source-tool"><i class="fa fa-check"></i><b>1.4</b> Why move from SAS or SPSS to an open source tool?</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#open-source"><i class="fa fa-check"></i><b>1.5</b> Open source</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#for-managers"><i class="fa fa-check"></i><b>1.6</b> For managers</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html"><i class="fa fa-check"></i><b>2</b> Reproducible, Auditable, and Assured</a><ul>
<li class="chapter" data-level="2.1" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#reproducible"><i class="fa fa-check"></i><b>2.1</b> Reproducible</a></li>
<li class="chapter" data-level="2.2" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#what-is-a-reproducible-analytical-pipeline"><i class="fa fa-check"></i><b>2.2</b> What is a reproducible analytical pipeline?</a></li>
<li class="chapter" data-level="2.3" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#why-make-our-work-reproducible"><i class="fa fa-check"></i><b>2.3</b> Why make our work reproducible?</a></li>
<li class="chapter" data-level="2.4" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#strategies-and-guidance"><i class="fa fa-check"></i><b>2.4</b> Strategies and Guidance</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="modelling.html"><a href="modelling.html"><i class="fa fa-check"></i><b>3</b> Modelling</a><ul>
<li class="chapter" data-level="3.1" data-path="modelling.html"><a href="modelling.html#aqua-book-quality-assurance-principles-for-code"><i class="fa fa-check"></i><b>3.1</b> AQUA book quality assurance principles for code</a></li>
<li class="chapter" data-level="3.2" data-path="modelling.html"><a href="modelling.html#repeatable"><i class="fa fa-check"></i><b>3.2</b> Repeatable</a></li>
<li class="chapter" data-level="3.3" data-path="modelling.html"><a href="modelling.html#rap-levels-align-with-aqua-levels"><i class="fa fa-check"></i><b>3.3</b> RAP Levels align with AQUA Levels</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="levels-of-reproducible-analysis.html"><a href="levels-of-reproducible-analysis.html"><i class="fa fa-check"></i><b>4</b> Levels of reproducible analysis</a></li>
<li class="chapter" data-level="5" data-path="Testing.html"><a href="Testing.html"><i class="fa fa-check"></i><b>5</b> Testing</a><ul>
<li class="chapter" data-level="5.1" data-path="Testing.html"><a href="Testing.html#advantages-of-testing-your-code"><i class="fa fa-check"></i><b>5.1</b> Advantages of testing your code</a></li>
<li class="chapter" data-level="5.2" data-path="Testing.html"><a href="Testing.html#when-a-project-should-use-testing"><i class="fa fa-check"></i><b>5.2</b> When a project should use testing</a></li>
<li class="chapter" data-level="5.3" data-path="Testing.html"><a href="Testing.html#when-a-project-might-not-deploy-testing"><i class="fa fa-check"></i><b>5.3</b> When a project might not deploy testing</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="testing-frameworks.html"><a href="testing-frameworks.html"><i class="fa fa-check"></i><b>6</b> Testing Frameworks</a><ul>
<li class="chapter" data-level="6.1" data-path="testing-frameworks.html"><a href="testing-frameworks.html#what-exactly-is-a-test"><i class="fa fa-check"></i><b>6.1</b> What exactly is a test</a></li>
<li class="chapter" data-level="6.2" data-path="testing-frameworks.html"><a href="testing-frameworks.html#unit-test"><i class="fa fa-check"></i><b>6.2</b> Unit Test</a></li>
<li class="chapter" data-level="6.3" data-path="testing-frameworks.html"><a href="testing-frameworks.html#integration-tests"><i class="fa fa-check"></i><b>6.3</b> Integration Tests</a></li>
<li class="chapter" data-level="6.4" data-path="testing-frameworks.html"><a href="testing-frameworks.html#what-to-tests"><i class="fa fa-check"></i><b>6.4</b> What to tests</a></li>
<li class="chapter" data-level="6.5" data-path="testing-frameworks.html"><a href="testing-frameworks.html#references"><i class="fa fa-check"></i><b>6.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="GIT.html"><a href="GIT.html"><i class="fa fa-check"></i><b>7</b> GIT</a><ul>
<li class="chapter" data-level="7.1" data-path="GIT.html"><a href="GIT.html#git-introduction"><i class="fa fa-check"></i><b>7.1</b> Git Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="GIT.html"><a href="GIT.html#about-version-control"><i class="fa fa-check"></i><b>7.2</b> About Version Control</a></li>
<li class="chapter" data-level="7.3" data-path="GIT.html"><a href="GIT.html#what-is-git"><i class="fa fa-check"></i><b>7.3</b> What is GIT</a></li>
<li class="chapter" data-level="7.4" data-path="GIT.html"><a href="GIT.html#how-does-git-actually-work"><i class="fa fa-check"></i><b>7.4</b> How does GIT actually work</a></li>
<li class="chapter" data-level="7.5" data-path="GIT.html"><a href="GIT.html#typical-git-workflow"><i class="fa fa-check"></i><b>7.5</b> Typical Git workflow</a></li>
<li class="chapter" data-level="7.6" data-path="GIT.html"><a href="GIT.html#remote-repository"><i class="fa fa-check"></i><b>7.6</b> Remote Repository</a></li>
<li class="chapter" data-level="7.7" data-path="GIT.html"><a href="GIT.html#branching"><i class="fa fa-check"></i><b>7.7</b> Branching</a></li>
<li class="chapter" data-level="7.8" data-path="GIT.html"><a href="GIT.html#pull-request-and-issues"><i class="fa fa-check"></i><b>7.8</b> Pull Request and issues</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html"><i class="fa fa-check"></i><b>8</b> Coding Guidelines</a><ul>
<li class="chapter" data-level="8.1" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html#why-useful"><i class="fa fa-check"></i><b>8.1</b> Why Useful</a></li>
<li class="chapter" data-level="8.2" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html#best-practice-coding-principles"><i class="fa fa-check"></i><b>8.2</b> Best Practice: Coding Principles</a></li>
<li class="chapter" data-level="8.3" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html#style-guides"><i class="fa fa-check"></i><b>8.3</b> Style Guides</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="documentation.html"><a href="documentation.html"><i class="fa fa-check"></i><b>9</b> Documentation</a><ul>
<li class="chapter" data-level="9.1" data-path="documentation.html"><a href="documentation.html#commenting"><i class="fa fa-check"></i><b>9.1</b> Commenting</a></li>
<li class="chapter" data-level="9.2" data-path="documentation.html"><a href="documentation.html#readme"><i class="fa fa-check"></i><b>9.2</b> README</a></li>
<li class="chapter" data-level="9.3" data-path="documentation.html"><a href="documentation.html#package-documentation"><i class="fa fa-check"></i><b>9.3</b> Package Documentation</a></li>
<li class="chapter" data-level="9.4" data-path="documentation.html"><a href="documentation.html#markdown-for-desk-notes"><i class="fa fa-check"></i><b>9.4</b> Markdown for desk notes</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="standards.html"><a href="standards.html"><i class="fa fa-check"></i><b>10</b> Standards</a><ul>
<li class="chapter" data-level="10.1" data-path="standards.html"><a href="standards.html#standards-for-peer-review"><i class="fa fa-check"></i><b>10.1</b> Standards for Peer review</a></li>
<li class="chapter" data-level="10.2" data-path="standards.html"><a href="standards.html#standard-structures-for-projects"><i class="fa fa-check"></i><b>10.2</b> Standard Structures for Projects</a></li>
<li class="chapter" data-level="10.3" data-path="standards.html"><a href="standards.html#dependency-management"><i class="fa fa-check"></i><b>10.3</b> Dependency Management</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://gss.civilservice.gov.uk/policy-store/government-statistical-service-gss-quality-strategy/" target="blank">Government Statistical Service (GSS) Quality </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">QA of Code</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Testing" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Testing</h1>
<p>When you are working on a project how do you know that your code is doing what you expect it to do? You run it and look at the output. This is a manual test and it has it’s limitations.</p>
<p>Hadley Wickham in <a href="https://rjournal.github.io/archive/2011-1/RJournal_2011-1.pdf#page=5">The R Journal</a></p>
<blockquote>
<p>it’s not that we don’t test our
code, it’s that we don’t store our tests so they can be
re-run automatically.</p>
</blockquote>
<p>Manual tests need to be constantly re-run. This is achievable when your code is small but when it becomes longer this is time consuming. When you come back to your code in the future you will have forgotten what tests you have run, any changes are then liable to break something. Fundamentally if you don’t test your code then how do you know that your code is doing what it is suppose to? Just as data validation in an important step in ensuring that the the data is correct, code validation using testing is important to check that the process is correct.</p>
<div id="advantages-of-testing-your-code" class="section level2">
<h2><span class="header-section-number">5.1</span> Advantages of testing your code</h2>
<ul>
<li>Better Code Structure
<ul>
<li>Writing tests forces you to separate code into functions that are separate and isolated, reducing duplication in your code. This approach will make your code easier to test and also easier to understand and use.</li>
</ul></li>
<li>Less Bugs
<ul>
<li>Like <em>double entry book keeping</em>, the behavior of your code is specified twice, once in the code and again in a test which makes it less error prone.</li>
</ul></li>
<li>More Robust Code
<ul>
<li>If all the major functions of your code have associated tests then code can be changed without the issue that this has caused a break or bug elsewhere which might not be discovered until later.</li>
</ul></li>
<li>Decreased Frustration
<ul>
<li>Untested code is precarious, an making changes without knowing if you have broken a section is stress inducing. Being able to deploy code that you are confident will work because it is tested will make the process more productive.</li>
</ul></li>
</ul>
</div>
<div id="when-a-project-should-use-testing" class="section level2">
<h2><span class="header-section-number">5.2</span> When a project should use testing</h2>
<ul>
<li>In a Analytics pipeline
-In general if code is planned to be reused then it needs to be tested to ensure that it is working properly.</li>
<li>In important pieces of work such as a National Statistic or in modeling work
-It is important that National Statistics and models are correct and that the public has confidence in the validity of published work, testing is important to ensure that the code is working as expected and prevents errors which increases confidence in government analysis.</li>
<li>When working in a team
-Testing ensures that collaborators can alter code without the issue with breaking the code without realizing. This allows a team to work on separate sections and have confidence that they can make changes.</li>
</ul>
</div>
<div id="when-a-project-might-not-deploy-testing" class="section level2">
<h2><span class="header-section-number">5.3</span> When a project might not deploy testing</h2>
<ul>
<li>One off pieces of work
-The effort of writing tests might not be proportionate if a project is onetime. The QA process would then consist of manual checks which might be sufficient.<br />
</li>
<li>Exploratory work
-For exploratory work, where it is unclear whether it will be converted into permanent project then testing may not be appropriate. There would be a benefit to testing if a exploratory project turns into a permanent one, however the code may be changed so fundamentally that all the tests would have to be re written. Fundamentally it is a trade off.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="levels-of-reproducible-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="testing-frameworks.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["QA_Code.pdf", "QA_Code.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
